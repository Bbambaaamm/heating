# =====================================================================
# Soubor   : config/heating/ui/dashboards/heating_dashboard.yaml
# Modul    : UI â€“ Dashboard senzory (aktuÃ¡lnÃ­ teploty zÃ³n)
# ÃšÄel     : Poskytnout UI-friendly senzory pro vizualizaci na dashboardu
# Autor    : Michal
# PoslednÃ­ Ãºprava : 2025-11-19
# =====================================================================
# ðŸ“Œ Obsah:
#   - Senzory s aktuÃ¡lnÃ­ teplotou ve vÅ¡ech zÃ³nÃ¡ch
#   - VÅ¡echny hodnoty bezpeÄnÄ› oÅ¡etÅ™enÃ© (float/attr fallback)
#
# ðŸ“ PoznÃ¡mky:
# - climate.* â†’ current_temperature pouÅ¾Ã­vÃ¡me tam, kde je dostupnÃ½
# - U zÃ³ny 1P JÃ­delna je pouÅ¾it Zigbee externÃ­ senzor (tz3000â€¦)
# - VÅ¡echny vÃ½stupy majÃ­ jednotku Â°C
# =====================================================================


template:
  - sensor:

      # -----------------------------------------------------------------
      # ðŸ  Sklep â€“ Michal: aktuÃ¡lnÃ­ teplota z hlavice z externÃ­ho senzoru xiaomy
      # -----------------------------------------------------------------
      - name: "Sklep Michal â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('climate.sklep_michal', 'unavailable') }}
        state: >
          {{ state_attr('climate.sklep_michal', 'current_temperature') | float(0) }}

      # -----------------------------------------------------------------
      # ðŸ  PÅ™Ã­zemÃ­ â€“ Michal: aktuÃ¡lnÃ­ teplota z hlavice
      # -----------------------------------------------------------------
      - name: "PÅ™Ã­zemÃ­ Michal â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('climate.prizemi_michal', 'unavailable') }}
        state: >
          {{ state_attr('climate.prizemi_michal', 'current_temperature') | float(0) }}

      # -----------------------------------------------------------------
      # ðŸ  PÅ™Ã­zemÃ­ â€“ Chodba zÃ¡chod: aktuÃ¡lnÃ­ teplota z hlavice
      # -----------------------------------------------------------------
      - name: "PÅ™Ã­zemÃ­ Chodba zÃ¡chod â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('climate.prizemi_chodba_zachod', 'unavailable') }}
        state: >
          {{ state_attr('climate.prizemi_chodba_zachod', 'current_temperature') | float(0) }}

      # -----------------------------------------------------------------
      # ðŸ  1. patro â€“ KuchyÅˆ: aktuÃ¡lnÃ­ teplota z hlavice
      # -----------------------------------------------------------------
      - name: "1. patro - KuchyÅˆ â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('climate.1p_kuchyn', 'unavailable') }}
        state: >
          {{ state_attr('climate.1p_kuchyn', 'current_temperature') | float(0) }}

      # -----------------------------------------------------------------
      # ðŸ¥˜ 1. patro â€“ JÃ­delna: aktuÃ¡lnÃ­ teplota z externÃ­ho Zigbee senzoru
      # -----------------------------------------------------------------
      - name: "1. patro JÃ­delna â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('sensor.tz3000_jidelna_teplota', 'unavailable') }}
        state: >
          {{ states('sensor.tz3000_jidelna_teplota') | float(0) | round(1) }}

      # -----------------------------------------------------------------
      # ðŸ¥˜ 1. patro â€“ Chodba: aktuÃ¡lnÃ­ teplota z hlavice
      # -----------------------------------------------------------------
      - name: "1. patro Chodba â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('climate.1p_chodba', 'unavailable') }}
        state: >
          {{ state_attr('climate.1p_chodba', 'current_temperature') | float(0) }}

      # -----------------------------------------------------------------
      # ðŸ¥˜ 1. patro â€“ Koupelna: aktuÃ¡lnÃ­ teplota z hlavice
      # -----------------------------------------------------------------
      - name: "1. patro Koupelna â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('climate.1p_koupelna', 'unavailable') }}
        state: >
          {{ state_attr('climate.1p_koupelna', 'current_temperature') | float(0) }}

      # -----------------------------------------------------------------
      # ðŸ‘© 2. patro â€“ MÃ¡ma: aktuÃ¡lnÃ­ teplota z hlavice
      # -----------------------------------------------------------------
      - name: "2. patro MÃ¡ma â€“ aktuÃ¡lnÃ­ teplota"
        unit_of_measurement: "Â°C"
        device_class: temperature
        state_class: measurement
        availability: >
          {{ not is_state('climate.2p_mama', 'unavailable') }}
        state: >
          {{ state_attr('climate.2p_mama', 'current_temperature') | float(0) }}

input_boolean:

  ui_sklep_michal_schedule_expand:
    name: UI â€“ Sklep Michal rozvrh rozbalit
    icon: mdi:unfold-more-horizontal

  ui_prizemi_michal_schedule_expand:
    name: UI â€“ PÅ™Ã­zemÃ­ Michal rozvrh rozbalit
    icon: mdi:unfold-more-horizontal

  ui_prizemi_chodba_zachod_schedule_expand:
    name: UI â€“ PÅ™Ã­zemÃ­ Chodba zÃ¡chod rozvrh rozbalit
    icon: mdi:unfold-more-horizontal

  ui_1p_chodba_schedule_expand:
    name: UI â€“ 1. patro Chodba rozvrh rozbalit
    icon: mdi:unfold-more-horizontal

  ui_1p_jidelna_schedule_expand:
    name: UI â€“ 1. patro JÃ­delna rozvrh rozbalit
    icon: mdi:unfold-more-horizontal

  ui_1p_kuchyn_schedule_expand:
    name: UI â€“ 1. patro KuchyÅˆ rozvrh rozbalit
    icon: mdi:unfold-more-horizontal

  ui_1p_koupelna_schedule_expand:
    name: UI â€“ 1. patro Koupelna rozvrh rozbalit
    icon: mdi:unfold-more-horizontal

  ui_2p_mama_schedule_expand:
    name: UI â€“ 2. patro MÃ¡ma rozvrh rozbalit
    icon: mdi:unfold-more-horizontal